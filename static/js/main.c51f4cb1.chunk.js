(this["webpackJsonpclone-twitter"]=this["webpackJsonpclone-twitter"]||[]).push([[0],{60:function(e,t,n){"use strict";n.r(t);var c=n(10),r=n.n(c),a=n(40),s=n.n(a),i=n(11),o=n(31),j=n(13),u=n(0),b=n.n(u),O=n(1),l=n(41),d=n(23),p=n(25),x={apiKey:"AIzaSyCkf-10PLNDXWC9OIdp1k2n-PmwBMbFcq8",authDomain:"clone-twitter-4d5ce.firebaseapp.com",projectId:"clone-twitter-4d5ce",storageBucket:"clone-twitter-4d5ce.appspot.com",messagingSenderId:"221231866268",appId:Object({NODE_ENV:"production",PUBLIC_URL:"/Switter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCkf-10PLNDXWC9OIdp1k2n-PmwBMbFcq8",REACT_APP_AUTH_DOMAIN:"clone-twitter-4d5ce.firebaseapp.com",REACT_APP_PROJECT_ID:"clone-twitter-4d5ce",REACT_APP_STORAGE_BUCKET:"clone-twitter-4d5ce.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"221231866268",REACT_APP_ID:"1:221231866268:web:8b75336fbe51264a706859"}).REACT_APP_APP_ID},f=(Object(l.a)(x),Object(d.c)()),h=Object(d.c)(),m=Object(p.c)(),v=n(7),g=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(i.a)(a,2),o=s[0],j=s[1],u=Object(c.useState)(!0),l=Object(i.a)(u,2),p=l[0],x=l[1],m=Object(c.useState)(""),g=Object(i.a)(m,2),w=g[0],S=g[1],C=function(){var e=Object(O.a)(b.a.mark((function e(t){var n,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(n=t.target.name)?c=new d.a:"anonymous"===n&&(c=new h.auth.GithubAuthProvider),e.next=4,Object(d.e)(f,c);case 4:r=e.sent,console.log(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=e.target,n=t.name,c=t.value;"email"===n?r(c):"password"===n&&j(c)},A=function(){var e=Object(O.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!p){e.next=8;break}return e.next=5,Object(d.b)(f,n,o);case 5:c=e.sent,e.next=11;break;case 8:return e.next=10,Object(d.d)(f,n,o);case 10:c=e.sent;case 11:console.log(c),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),S(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{children:[Object(v.jsxs)("form",{onSubmit:A,children:[Object(v.jsx)("input",{name:"email",type:"email",placeholder:"Email",required:!0,value:n,onChange:_}),Object(v.jsx)("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:o,onChange:_}),Object(v.jsx)("input",{type:"submit",value:p?"Create Account":"Log In"}),w]}),Object(v.jsx)("button",{onClick:function(){return x((function(e){return!e}))},children:p?"Sign In":"Create Account"}),Object(v.jsx)("button",{onClick:C,name:"google",children:"Google\ub85c \uc2dc\uc791\ud558\uae30"}),Object(v.jsx)("button",{onClick:C,name:"anonymous",children:"\uc775\uba85\uc73c\ub85c \uc2dc\uc791\ud558\uae30"})]})},w=n(42),S=n(24),C=function(e){var t=e.sweetObj,n=e.isOwner,r=Object(c.useState)(!1),a=Object(i.a)(r,2),s=a[0],o=a[1],j=Object(c.useState)(t.text),u=Object(i.a)(j,2),b=u[0],O=u[1],l=function(){return o((function(e){return!e}))};return Object(v.jsx)("div",{children:s?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Object(S.g)(Object(S.d)(m,"sweets",t.id),{text:b}),o(!1)},children:[Object(v.jsx)("input",{onChange:function(e){var t=e.target.value;O(t)},value:b,required:!0}),Object(v.jsx)("input",{type:"submit",value:"Update Sweet"})]}),Object(v.jsx)("button",{onClick:l,children:"Cancel"})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h4",{children:t.text}),n&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{onClick:function(){var e=window.confirm("\uc0ad\uc81c\ud560\uac70\uc784?");console.log(e),e&&(console.log(t.id),Object(S.c)(Object(S.d)(m,"sweets",t.id)))},children:"Delete Sweet"}),Object(v.jsx)("button",{onClick:l,children:"Edit Sweet"})]})]})})},_=function(e){var t=e.userObj;console.log(t);var n=Object(c.useState)(""),r=Object(i.a)(n,2),a=r[0],s=r[1],o=Object(c.useState)([]),j=Object(i.a)(o,2),u=j[0],l=j[1];Object(c.useEffect)((function(){Object(p.d)(Object(p.b)(m,"sweets"),(function(e){var t=e.docs.map((function(e){return Object(w.a)({id:e.id},e.data())}));l(t)}))}),[]);var d=function(){var e=Object(O.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Object(p.a)(Object(p.b)(m,"sweets"),{text:a,createdAt:Date.now(),creatorId:t.uid});case 3:s("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("form",{onSubmit:d,children:[Object(v.jsx)("input",{value:a,onChange:function(e){e.preventDefault();var t=e.target.value;s(t)},type:"text",placeholder:"What's on your mind?",maxLength:120}),Object(v.jsx)("input",{type:"submit",value:"Sweet"})]}),Object(v.jsx)("div",{children:u.map((function(e){return Object(v.jsx)(C,{sweetObj:e,isOwner:e.creatorId===t.uid},e.id)}))})]})},A=n(32),P=function(e){var t=e.userObj,n=Object(j.f)(),r=Object(c.useState)(t.displayName),a=Object(i.a)(r,2),s=a[0],o=a[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.displayName!=s&&Object(A.f)(t,{displayName:s}),window.location.reload()},children:[Object(v.jsx)("input",{onChange:function(e){var t=e.target.value;o(t)},type:"text",placeholder:"Display name",value:s}),Object(v.jsx)("input",{type:"submit",value:"Update Profile"})]}),Object(v.jsx)("button",{onClick:function(){f.signOut(),n.push("/")},children:"Log Out"})]})},E=function(e){var t=e.userObj;return Object(v.jsx)("nav",{children:Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(o.b,{to:"/",children:"Home"})}),Object(v.jsx)("li",{children:Object(v.jsxs)(o.b,{to:"/profile",children:[t.displayName," \uc758 \ud504\ub85c\ud544 "]})})]})})},y=function(e){var t=e.isLoggedIn,n=e.userObj;return Object(v.jsxs)(o.a,{children:[t&&Object(v.jsx)(E,{userObj:n}),Object(v.jsx)(j.c,{children:t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(j.a,{exact:!0,path:"/",children:Object(v.jsx)(_,{userObj:n})}),Object(v.jsx)(j.a,{exact:!0,path:"/profile",children:Object(v.jsx)(P,{userObj:n})})]}):Object(v.jsx)(j.a,{exact:!0,path:"/",children:Object(v.jsx)(g,{})})})]})};var D=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(i.a)(a,2),o=s[0],j=s[1],u=Object(c.useState)(null),b=Object(i.a)(u,2),O=b[0],l=b[1];return Object(c.useEffect)((function(){f.onAuthStateChanged((function(e){e?(j(e),l(e)):j(!1),r(!0)}))}),[]),Object(v.jsxs)(v.Fragment,{children:[n?Object(v.jsx)(y,{isLoggedIn:o,userObj:O}):"initializing....",Object(v.jsxs)("footer",{children:["\xa9 ",(new Date).getFullYear()," Switter "]})]})};console.log("firebase"),s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(D,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.c51f4cb1.chunk.js.map