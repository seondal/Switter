(this["webpackJsonpclone-twitter"]=this["webpackJsonpclone-twitter"]||[]).push([[0],{67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(10),a=n.n(c),r=n(46),s=n.n(r),i=n(11),o=n(31),l=n(14),j=n(0),u=n.n(j),b=n(1),d=n(47),O=n(25),p=n(27),x={apiKey:"AIzaSyCkf-10PLNDXWC9OIdp1k2n-PmwBMbFcq8",authDomain:"clone-twitter-4d5ce.firebaseapp.com",projectId:"clone-twitter-4d5ce",storageBucket:"clone-twitter-4d5ce.appspot.com",messagingSenderId:"221231866268",appId:Object({NODE_ENV:"production",PUBLIC_URL:"/Switter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCkf-10PLNDXWC9OIdp1k2n-PmwBMbFcq8",REACT_APP_AUTH_DOMAIN:"clone-twitter-4d5ce.firebaseapp.com",REACT_APP_PROJECT_ID:"clone-twitter-4d5ce",REACT_APP_STORAGE_BUCKET:"clone-twitter-4d5ce.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"221231866268",REACT_APP_ID:"1:221231866268:web:8b75336fbe51264a706859"}).REACT_APP_APP_ID},m=(Object(d.a)(x),Object(O.c)()),f=(Object(O.c)(),Object(p.c)()),h=n(24),v=n(42),g=n.p+"static/media/clock.d29eb7ae.jpg",w=n(6),y=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(!0),p=Object(i.a)(d,2),x=p[0],f=p[1],y=Object(c.useState)(""),C=Object(i.a)(y,2),S=C[0],N=C[1],_=function(){var e=Object(b.a)(u.a.mark((function e(t){var n,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(n=t.target.name)?c=new O.a:"anonymous"===n&&(window.alert("\ub9c8\uac10\uc2dc\uac04\uc774 \ucd09\ubc15\ud574\uc11c \uad6c\ud604\uc744 \ubabb\ud588\ub2e4 \ud751\ud751"),window.location.reload()),e.next=4,Object(O.e)(m,c);case 4:a=e.sent,console.log(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e){var t=e.target,n=t.name,c=t.value;"email"===n?r(c):"password"===n&&j(c)},A=function(){var t=Object(b.a)(u.a.mark((function t(n){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),t.prev=1,!x){t.next=9;break}return t.next=5,Object(O.b)(m,a,l);case 5:c=t.sent,Object(O.f)(e,{displayName:"\uc775\uba85"}),t.next=12;break;case 9:return t.next=11,Object(O.d)(m,a,l);case 11:c=t.sent;case 12:console.log(c),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),N(t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"authContainer",children:[Object(w.jsx)("img",{src:g,style:{marginBottom:30,width:"8%"}}),Object(w.jsxs)("form",{onSubmit:A,className:"container",children:[Object(w.jsx)("input",{name:"email",type:"email",placeholder:"\uc774\uba54\uc77c",required:!0,value:a,onChange:I,className:"authInput"}),Object(w.jsx)("input",{name:"password",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638",required:!0,value:l,onChange:I,className:"authInput"}),Object(w.jsx)("input",{type:"submit",value:x?"\ud68c\uc6d0\uac00\uc785":"\ub85c\uadf8\uc778",className:"authInput authSubmit"}),S&&Object(w.jsx)("span",{className:"authError",children:S})]}),Object(w.jsx)("button",{onClick:function(){return f((function(e){return!e}))},className:"authSwitch",children:x?"\uc774\ubbf8 \ube44\ubc00\ubc88\ud638\uac00 \uc788\uc73c\uc2e0\uac00\uc694? \ub85c\uadf8\uc778":"\uc5d0\ube0c\ub9ac\uc120\ub2ec\uc774 \ucc98\uc74c\uc774\uc2e0\uac00\uc694? \ud68c\uc6d0\uac00\uc785"}),Object(w.jsxs)("div",{className:"authBtns",children:[Object(w.jsxs)("button",{onClick:_,name:"google",className:"authBtn",children:["Google\ub85c \ub85c\uadf8\uc778 ",Object(w.jsx)(h.a,{icon:v.a})]}),Object(w.jsx)("button",{onClick:_,name:"anonymous",className:"authBtn",children:"\uc775\uba85\uc73c\ub85c \uc2dc\uc791\ud558\uae30"})]})]})},C=n(48),S=n(26),N=n(33),_=function(e){var t=e.sweetObj,n=e.isOwner,a=e.creatorId,r=(e.userObj,Object(c.useState)(!1)),s=Object(i.a)(r,2),o=s[0],l=s[1],j=Object(c.useState)(t.text),u=Object(i.a)(j,2),b=u[0],d=u[1],O=function(){return l((function(e){return!e}))},p=function(e){console.log("eho"),e.preventDefault(),Object(S.g)(Object(S.d)(f,"sweets",t.id),{text:b}),l(!1)};return Object(w.jsxs)("div",{className:"nweet",children:[o?Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginBottom:"20px",justifyContent:"space-between",alignItems:"center"},children:[Object(w.jsx)("button",{onClick:O,className:"formBtn cancelBtn",style:{border:"none",width:"10px"},children:"x"}),Object(w.jsx)("input",{type:"submit",value:"\uc644\ub8cc",className:"factoryInput__arrow",onClick:p})]}),Object(w.jsx)("form",{onSubmit:p,className:"container nweetEdit",children:Object(w.jsx)("input",{onChange:function(e){var t=e.target.value;d(t)},value:b,required:!0,placeholder:"\uc218\uc815\ud558\ub358\uac00",autoFocus:!0,className:"forInput"})})]}):Object(w.jsxs)("div",{className:"didi",children:[Object(w.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"15px"},children:[Object(w.jsx)("div",{className:"profile"}),"\uc775\uba85"]}),Object(w.jsx)("h4",{children:t.text}),Object(w.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:"20px"},children:[Object(w.jsx)("span",{style:{color:"grey",fontSize:"0.8em"},children:a}),n&&Object(w.jsxs)("div",{className:"nweet__actions",children:[Object(w.jsx)("span",{onClick:function(){var e=window.confirm("\uc0ad\uc81c\ud560\uac70\uc784?");console.log(e),e&&(console.log(t.id),Object(S.c)(Object(S.d)(f,"sweets",t.id)))},children:Object(w.jsx)(h.a,{icon:N.b,color:"#c92718"})}),Object(w.jsx)("span",{onClick:O,children:Object(w.jsx)(h.a,{icon:N.a,color:"#05AAFF"})})]})]})]}),Object(w.jsx)("hr",{align:"center",width:"100%",size:"100%",color:"whitesmoke"})]})},I=function(e){var t=e.userObj;console.log(t);var n=Object(c.useState)(""),a=Object(i.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)([]),l=Object(i.a)(o,2),j=l[0],d=l[1];Object(c.useEffect)((function(){Object(p.d)(Object(p.b)(f,"sweets"),(function(e){var t=e.docs.map((function(e){return Object(C.a)({id:e.id},e.data())}));d(t)}))}),[]);var O=function(){var e=Object(b.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==r){e.next=4;break}return window.alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694!"),e.abrupt("return");case 4:return e.next=6,Object(p.a)(Object(p.b)(f,"sweets"),{text:r,createdAt:Date.now(),creatorId:t.uid});case 6:s("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)("div",{children:Object(w.jsxs)("form",{className:"factoryInput__container",onSubmit:O,children:[Object(w.jsx)("div",{children:Object(w.jsx)("input",{value:r,onChange:function(e){e.preventDefault();var t=e.target.value;s(t)},type:"text",placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694"})}),Object(w.jsx)("div",{children:Object(w.jsx)("input",{type:"submit",value:"\uc644\ub8cc",className:"factoryInput__arrow"})})]})}),Object(w.jsx)("div",{style:{marginTop:10},children:j.map((function(e){return Object(w.jsx)(_,{sweetObj:e,isOwner:e.creatorId===t.uid,creatorId:e.createdAt,userObj:t},e.id)}))})]})},A=n(36),k=function(e){var t=e.userObj,n=Object(l.f)(),a=Object(c.useState)(t.displayName),r=Object(i.a)(a,2),s=r[0],o=r[1];return Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)("div",{style:{display:"flex",justifyContent:"center",border:"grey solid",padding:"20px",marginBottom:"30px"},children:Object(w.jsxs)("h3",{children:[t.displayName,"\ub2d8 \uc548\ub155\ud558\uc138\uc694!"]})}),Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.displayName!=s&&Object(A.f)(t,{displayName:s}),window.location.reload()},className:"profileForm",children:[Object(w.jsx)("div",{style:{color:"gray"},children:"\ub2c9\ub124\uc784 \ubcc0\uacbd\ud558\uae30"}),Object(w.jsx)("input",{onChange:function(e){var t=e.target.value;o(t)},type:"text",placeholder:"Display name",value:s,autoFocus:!0,className:"formInput"}),Object(w.jsx)("input",{type:"submit",value:"\uacb0\uc815",className:"formBtn",style:{margintTop:10}})]}),Object(w.jsx)("span",{className:"formBtn cancelBtn logOut",onClick:function(){m.signOut(),n.push("/")},children:"\ub85c\uadf8\uc544\uc6c3"})]})},E=n(39),D=(n(5),function(e){e.userObj;var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],r=n[1];return Object(w.jsx)("nav",{children:Object(w.jsxs)("ul",{style:{display:"flex",justifyContent:"center",flexDirection:"row",marginTop:50},children:[Object(w.jsx)("img",{src:g,style:{marginBottom:0,width:"5%"}}),"home"===a?Object(w.jsx)(o.b,{to:"/profile",style:{position:"relative",top:"10px",right:"-100px"},onClick:function(){return r((function(e){return"profile"}))},children:Object(w.jsx)(h.a,{icon:E.b,color:"var(--main)",size:"2x"})}):Object(w.jsx)(o.b,{to:"/",style:{position:"relative",top:"10px",right:"-100px"},onClick:function(){return r((function(e){return"home"}))},children:Object(w.jsx)(h.a,{icon:E.a,color:"var(--main)",size:"2x"})})]})})}),P=function(e){var t=e.isLoggedIn,n=e.userObj;return Object(w.jsxs)(o.a,{children:[t&&Object(w.jsx)(D,{userObj:n}),Object(w.jsx)(l.c,{children:t?Object(w.jsxs)("div",{style:{maxWidth:890,width:"100%",margin:"0 auto",marginTop:80,display:"flex",justifyContent:"center"},children:[Object(w.jsx)(l.a,{exact:!0,path:"/",children:Object(w.jsx)(I,{userObj:n})}),Object(w.jsx)(l.a,{exact:!0,path:"/profile",children:Object(w.jsx)(k,{userObj:n})})]}):Object(w.jsx)(l.a,{exact:!0,path:"/",children:Object(w.jsx)(y,{userObj:n})})})]})};var T=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(i.a)(r,2),o=s[0],l=s[1],j=Object(c.useState)(null),u=Object(i.a)(j,2),b=u[0],d=u[1];return Object(c.useEffect)((function(){m.onAuthStateChanged((function(e){e?(l(e),d(e)):l(!1),a(!0)}))}),[]),Object(w.jsxs)(w.Fragment,{children:[n?Object(w.jsx)(P,{isLoggedIn:o,userObj:b}):"initializing....",Object(w.jsxs)("footer",{style:{display:"flex",justifyContent:"center",marginTop:"30px"},children:["\xa9 ",(new Date).getFullYear()," Seondal"," "]})]})};n(67);console.log("firebase"),s.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(T,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.427f9831.chunk.js.map